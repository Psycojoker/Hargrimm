from urllib import urlopen
from json import loads
from irenicurse.widget import FullListWidget
from irenicurse import run

class Home(FullListWidget):
    def __init__(self, url="http://localhost:8080"):
        self.url = url
        self.dictionary = loads(urlopen(self.url).read())
        self.content = sorted(self.dictionary.keys())
        FullListWidget.__init__(self, self.content)


if __name__ == "__main__":
    run(Home())
